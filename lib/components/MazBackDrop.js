import{defineComponent as e,ref as t,watch as n,openBlock as o,createBlock as r,Teleport as a,createVNode as l,Transition as d,withCtx as i,createElementBlock as s,normalizeClass as c,createElementVNode as u,withModifiers as p,mergeProps as f,renderSlot as m,createCommentVNode as k}from"vue";var v=e({inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!0},selector:{type:String,default:"#modals-container"},beforeClose:{type:Function,default:void 0},persistent:{type:Boolean,default:!1},backdropClass:{type:[Array,String,Object],default:function(){return[]}},transition:{type:String,default:"backdrop-anim"},escKey:{type:Boolean,default:!0},zOffset:{type:Number,default:20},defaultZIndex:{type:Number,default:1050},modalClass:{type:String,default:void 0}},emits:["open","close","update:model-value"],setup:function(e,o){var r=o.emit,a=t(e.modelValue),l=function(e){return a.value=e},d=function(){return l(!0)},i=function(){return l(!1)},s=function(t){for(var n=e.beforeClose?e.beforeClose:function(){return!0},o=arguments.length,r=new Array(o>1?o-1:0),a=1;a<o;a++)r[a-1]=arguments[a];t?d():e.beforeClose&&!1!==n.apply(void 0,r)||i()},c=function(t){e.escKey&&"Escape"===t.code&&(e.persistent||s(!1))};return n((function(){return e.modelValue}),(function(e){a.value=e,e?(document.documentElement.classList.add("--backdrop-present"),window.addEventListener("keyup",c,!1)):(window.removeEventListener("keyup",c),document.documentElement.classList.remove("--backdrop-present"))})),{present:a,openModal:d,close:i,onBackdropClicked:function(){e.persistent||s(!1)},onBackdropAnimationEnter:function(){r("open")},onBackdropAnimationLeave:function(){r("update:model-value",!1),r("close")},toggleModal:s}}});v.render=function(e,t,n,v,b,y){return o(),r(a,{to:"body",selector:e.selector},[l(d,{appear:"",name:e.transition,onAfterEnter:e.onBackdropAnimationEnter,onAfterLeave:e.onBackdropAnimationLeave},{default:i((function(){return[e.present?(o(),s("div",{key:0,class:c(["m-backdrop",{"--backdrop-present":e.present},e.backdropClass]),tabindex:"-1",role:"dialog"},[u("div",{class:c(["m-backdrop-overlay",{"--disabled":e.persistent}]),tabindex:"-1",onClick:t[0]||(t[0]=p((function(){return e.onBackdropClicked&&e.onBackdropClicked.apply(e,arguments)}),["self"]))},null,2),u("div",f({class:["m-backdrop-content",e.modalClass]},e.$attrs,{role:"document",tabindex:"0"}),[m(e.$slots,"default",{close:function(){return e.close()}})],16)],2)):k("",!0)]})),_:3},8,["name","onAfterEnter","onAfterLeave"])],8,["selector"])};export{v as default};