import{defineComponent as t,ref as e,onMounted as r,h as o}from"vue";import{Chart as n,ArcElement as a,LineElement as p,BarElement as s,PointElement as u,BarController as i,BubbleController as f,DoughnutController as c,LineController as l,PieController as d,PolarAreaController as y,RadarController as x,ScatterController as h,CategoryScale as b,LinearScale as v,LogarithmicScale as g,RadialLinearScale as O,TimeScale as m,TimeSeriesScale as j,Decimation as _,Filler as w,Legend as P,Title as D,Tooltip as S}from"chart.js";function M(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A,U={exports:{}},z={exports:{}},R={exports:{}};(A=R).exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o},A.exports.__esModule=!0,A.exports.default=A.exports,function(t){var e=R.exports;t.exports=function(t){if(Array.isArray(t))return e(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(z);var E={exports:{}};!function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports}(E);var I={exports:{}};!function(t){var e=R.exports;t.exports=function(t,r){if(t){if("string"==typeof t)return e(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,r):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports}(I);var C={exports:{}};!function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports}(C),function(t){var e=z.exports,r=E.exports,o=I.exports,n=C.exports;t.exports=function(t){return e(t)||r(t)||o(t)||n()},t.exports.__esModule=!0,t.exports.default=t.exports}(U);var L=M(U.exports),T={exports:{}};!function(t){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},t.exports.__esModule=!0,t.exports.default=t.exports}(T);var k=M(T.exports),q=["install","start","stop","beforeInit","afterInit","beforeUpdate","afterUpdate","beforeElementsUpdate","reset","beforeDatasetsUpdate","afterDatasetsUpdate","beforeDatasetUpdate","afterDatasetUpdate","beforeLayout","afterLayout","afterLayout","beforeRender","afterRender","resize","destroy","uninstall","afterTooltipDraw","beforeTooltipDraw"];function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){k(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}n.register(a,p,s,u,i,f,c,l,d,y,x,h,b,v,g,O,m,j,_,w,P,D,S);var J=t({name:"MazChart",props:{type:{type:String,required:!0},data:{type:Object,required:!0},height:{type:String,default:void 0},width:{type:String,default:void 0},options:{type:Object,default:Object},plugins:{type:Array,default:function(){return[]}},locale:{type:String,default:"fr-FR"}},emits:q,setup:function(t,o){var a=o.emit,p=e(),s=q.reduce((function(t,e){var r=function(t,e){return{type:t,chartRef:e,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return!this._defaultPrevented},_defaultPrevented:!1}}(e,p.value);return H(H({},t),function(t,e){return k({},e.type,(function(){return t(e.type,e),e.isDefaultPrevented()}))}(a,r))}),{id:"MazChartEventHookPlugin"}),u={chart:void 0,plugins:[s].concat(L(t.plugins)),props:H({},t)},i=function(){return u.chart?u.chart.update():p.value?u.chart=new n(p.value.getContext("2d"),{type:u.props.type,data:u.props.data,options:H({locale:t.locale},u.props.options),plugins:u.plugins}):void 0};return r((function(){return i()})),{chartJSState:u,chartRef:p,render:i,resize:function(){return u.chart&&u.chart.resize()},update:function(){u.chart&&(u.chart.data=H(H({},u.chart.data),u.props.data),u.chart.options=H(H({},u.chart.options),u.props.options),u.chart.update("resize"))},destroy:function(){u.chart&&(u.chart.destroy(),u.chart=void 0)}}},render:function(t){return o("canvas",{ref:"chartRef",width:t.width,height:t.height})}});export{J as default};